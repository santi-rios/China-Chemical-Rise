[
  {
    "objectID": "template-r-shinylive.html",
    "href": "template-r-shinylive.html",
    "title": "Template for r-shinylive Quarto document",
    "section": "",
    "text": "Important\n\n\n\nPlease switch {shinylive-r} to {shinylive-r}. We’ve suppressed this example from running by using {{}}.\n\n\n```{shinylive-r}\n#| standalone: true\n\nui &lt;- ...\n\nserver &lt;- function(input, output, session) {\n  ...\n}\n\nshinyApp(ui, server)\n```\nFull Skeletal Document Source:\n---\ntitle: \"Template for r-shinylive Quarto document\"\nformat:\n  html:\n    resources: \n      - shinylive-sw.js\nfilters:\n  - shinylive\n---\n\n```{shinylive-r}\n#| standalone: true\n\nui &lt;- ...\n\nserver &lt;- function(input, output, session) {\n  ...\n}\n\nshinyApp(ui, server)\n```"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Chemical Space Analysis",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 800\nlibrary(shinylive)\n# library(shiny)\nlibrary(bslib)\n# library(tidyverse)\nlibrary(dplyr)\nlibrary(plotly)\nlibrary(countrycode)\nlibrary(DT)\n\n# Install the 'pak' package manager if you haven't already\n# install.packages(\"pak\")\n# Install 'r-shinylive' using 'pak'\n# pak::pak(\"posit-dev/r-shinylive\")\n\n######### Data Preparation #########\ndf &lt;- read.csv(\"df.csv\")\n\n######### Custom Labels #########\nfigure_labels &lt;- list(\n  \"Figure1a\" = list(y_title = \"Contribution Index\", map_title = \"Chemical Space Contribution\"), \n  \"Figure1b\" = list(y_title = \"Collaboration Index\", map_title = \"International Collaborations\"),\n  \"Figure1c\" = list(y_title = \"Collaboration Percentage\", map_title = \"China-US Collaboration\"),\n  \"Figure1d\" = list(y_title = \"GDP Growth Rate (%)\", map_title = \"Economic Indicators\"),\n  \"Figure1e\" = list(y_title = \"Researchers (Count)\", map_title = \"R&D Workforce\")\n)\n\n######### APP #########\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"flatly\", primary = \"#2c3e50\", secondary = \"#18bc9c\"),\n  \n  # Navbar at the top\n  div(\n    class = \"navbar navbar-static-top primary bg-primary\",\n    div(\"China's rise in the chemical space and the decline of US influence\", \n        class = \"container-fluid\")\n  ),\n  \n  br(),\n  \n  layout_columns(\n    col_widths = c(3, 9),\n    \n    # Control Panel\n    card(\n      card_header(\"Controls\", class = \"bg-primary text-light\"),\n      card_body(\n        selectInput(\"facet\", \"Select figure:\",\n                    choices = unique(df$source),\n                    selected = \"Figure1a\",\n                    width = \"100%\"),\n        \n        div(class = \"form-group\",\n            h5(\"Select Countries:\"),\n            uiOutput(\"country_checkboxes\")\n        ),\n        \n        div(class = \"animation-controls\",\n            sliderInput(\"year\", \"Year\",\n                        min = min(df$Year) ,\n                        max = max(df$Year) - 1,\n                        value = min(df$Year),\n                        step = 1,\n                        animate = animationOptions(interval = 800, loop = FALSE),\n                        width = \"100%\")\n        ),\n        \n        uiOutput(\"figure_description\")\n      )\n    ),\n    \n    # Visualization Panel\n    layout_column_wrap(\n      width = 1/1,\n      card(\n        full_screen = TRUE,\n        card_header(\"Interactive Visualizations\", class = \"bg-primary text-light\"),\n        card_body(\n          plotlyOutput(\"emissionsPlot\", height = \"50vh\"),\n          br(),\n          plotlyOutput(\"worldMap\", height = \"40vh\")\n        )\n      )\n    )\n  ),\n  \n  # Data Section\n  card(\n    card_header(\"Data Explorer\", class = \"bg-primary text-light\"),\n    card_body(\n      DTOutput(\"table\")\n    )\n  ),\n  \n  downloadButton(\"downloadData\", \"Download Dataset\", class = \"btn-success\"),\n  \n  # Footer\n  div(\n    class = \"footer navbar navbar-static-bottom bg-light\",\n    style = \"margin-bottom: 20px;\",\n    div(\n      class = \"container-fluid\",\n      \"Data source: Bermudez-Montana, Garcia-Chung, et al, 2025 - \",\n      a(\"ChemRxiv Publication\", href = \"https://doi.org/10.26434/chemrxiv-2025-d2zc8\",\n        style = \"color: #18bc9c;\")\n    )\n  )\n)\n\nserver &lt;- function(input, output, session) {\n  \n  # Reactive axis labels\n  axis_labels &lt;- reactive({\n    req(input$facet)\n    figure_labels[[input$facet]] %||% list(y_title = \"Value\", map_title = \"Value\")\n  })\n  \n  # Country selection checkboxes\n  output$country_checkboxes &lt;- renderUI({\n    req(input$facet)\n    countries &lt;- df %&gt;% \n      filter(source == input$facet) %&gt;% \n      pull(Country) %&gt;% \n      unique() %&gt;% \n      sort()\n    \n    fluidRow(\n      column(6,\n             checkboxGroupInput(\"countries\", NULL, \n                               choices = head(countries, ceiling(length(countries)/2)),\n                               selected = head(countries, 4))\n      ),\n      column(6,\n             checkboxGroupInput(\"countries2\", NULL,\n                               choices = tail(countries, floor(length(countries)/2)),\n                               selected = tail(countries, 4))\n      )\n    )\n  })\n  \n  # Combine checkbox inputs\n  selected_countries &lt;- reactive({\n    unique(c(input$countries, input$countries2))\n  })\n  \n  # Update figure description\n  output$figure_description &lt;- renderUI({\n    req(input$facet)\n    desc_text &lt;- case_when(\n      input$facet == \"Figure1a\" ~ \"Country participation in chemical space growth using formula:\",\n      input$facet == \"Figure1b\" ~ \"Top international collaborations in chemical research:\",\n      input$facet == \"Figure1c\" ~ \"China-US collaborative contributions to new substances:\",\n      input$facet == \"Figure1d\" ~ \"Economic indicators and major events timeline:\",\n      input$facet == \"Figure1e\" ~ \"Research workforce development metrics:\",\n      TRUE ~ paste(\"Displaying:\", input$facet)\n    )\n    \n    div(class = \"callout\",\n        h5(desc_text),\n        if(input$facet == \"Figure1a\") withMathJax(helpText(\"$$C_{i,t} = \\\\frac{1}{n_t} \\\\sum_s \\\\frac{n_{i,s,t}}{n_{a,s,t}}$$\"))\n    )\n  })\n  \n  # Main emissions plot\n  output$emissionsPlot &lt;- renderPlotly({\n    req(selected_countries(), input$facet, input$year)\n    \n    filtered_data &lt;- df %&gt;% \n      filter(Country %in% selected_countries(),\n             source == input$facet,\n             Year &lt;= input$year) %&gt;% \n      arrange(Year)\n    \n    if (nrow(filtered_data) == 0) return(plotly_empty())\n    \n    fig &lt;- plot_ly(filtered_data, x = ~Year, y = ~Value, color = ~Country,\n            type = 'scatter', mode = 'lines+markers', line = list(simplify = FALSE, width = 2), showlegend = TRUE,\n            hoverinfo = 'text', text = ~paste0(\"&lt;b&gt;\", Country, \"&lt;/b&gt;&lt;br&gt;\",\n                                              axis_labels()$y_title, \": \", round(Value, 2),\n                                              \"&lt;br&gt;Year: \", Year))\n      # add_text(text = ~Country, showlegend = FALSE, textposition = \"top right\") \n\n    # Add annotations for the latest year\n    final_data &lt;- filtered_data %&gt;% \n      group_by(Country) %&gt;% \n      filter(Year == max(Year)) %&gt;% \n      ungroup()\n    \n    for(i in 1:nrow(final_data)) {\n      fig &lt;- fig %&gt;% add_annotations(\n        x = final_data$Year[i],\n        y = final_data$Value[i],\n        text = final_data$Country[i],\n        xref = \"x\",\n        yref = \"y\",\n        xanchor = 'left',\n        yanchor = 'middle',\n        showarrow = FALSE,\n        font = list(size = 12),\n        xshift = 10\n      )\n    }\n\n    fig &lt;- fig %&gt;%\n      layout(\n        title = paste(\"Temporal Analysis -\", input$facet),\n        xaxis = list(title = \"Year\", gridcolor = \"#ecf0f1\"),\n        yaxis = list(title = axis_labels()$y_title, gridcolor = \"#ecf0f1\"),\n        hovermode = \"x unified\",\n        plot_bgcolor = \"#ffffff\",\n        legend = list(orientation = 'h', y = -0.2),\n        margin = list(r = 40)\n      )\n\n    if (input$facet == \"Figure1d\") {\n      fig %&gt;%\n    # layout(\n    #   shapes = list(\n    #     list(\n    #       type = \"line\",\n    #       x0 = 2020,\n    #       x1 = 2020,\n    #       y0 = 0,\n    #       y1 = 13,\n    #       line = list(color = \"blue\", width = 2, dash = \"dot\")\n    #     )\n    #   )\n    #   ) %&gt;%\n    add_text(showlegend = FALSE, x = 2020, y = 10,\n            text = \"COVID-19\") %&gt;%\n    # layout(\n    #   shapes = list(\n    #     list(\n    #       type = \"line\",\n    #       x0 = 2007,\n    #       x1 = 2007,\n    #       y0 = 0,\n    #       y1 = 10,\n    #       line = list(color = \"green\", width = 2, dash = \"dot\")\n    #     )\n    #   )\n    #   ) %&gt;%\n    add_text(showlegend = FALSE, x = 2007, y = 15,\n            text = \"Global Financial Crisis\")\n    }\n    else {\n       fig\n    }\n  })\n  \n  # World map visualization\n  output$worldMap &lt;- renderPlotly({\n    req(input$facet, input$year)\n    \n    map_data &lt;- df %&gt;%\n      filter(source == input$facet, Year == input$year) %&gt;%\n      mutate(iso_code = countrycode(Country, \"country.name\", \"iso3c\")) \n      # drop_na()\n    \n    if (nrow(map_data) == 0) return(plotly_empty())\n    \n    plot_geo(map_data) %&gt;%\n      add_trace(\n        z = ~Value,\n        color = ~Value,\n        colors = \"Blues\",\n        locations = ~iso_code,\n        text = ~paste0(\"&lt;b&gt;\", Country, \"&lt;/b&gt;&lt;br&gt;\",\n                      axis_labels()$map_title, \": \", round(Value, 2)),\n        hoverinfo = \"text\",\n        marker = list(line = list(color = \"white\", width = 0.5))\n      ) %&gt;%\n      colorbar(title = axis_labels()$map_title) %&gt;%\n      layout(\n        title = paste(\"Global Distribution -\", input$facet, \"(\", input$year, \")\"),\n        geo = list(\n          showframe = FALSE,\n          showcoastlines = TRUE,\n          projection = list(type = \"natural earth\"),\n          bgcolor = \"rgba(0,0,0,0)\",\n          landcolor = \"#f8f9fa\"\n        )\n      )\n  })\n  \n  # Data table\n  output$table &lt;- renderDT({\n    req(input$facet)\n    df %&gt;%\n      filter(source == input$facet) %&gt;%\n      datatable(\n        rownames = FALSE,\n        extensions = 'Buttons',\n        options = list(\n          dom = 'Bfrtip',\n          buttons = c('copy', 'csv', 'excel'),\n          pageLength = 10,\n          scrollX = TRUE\n        )\n      ) %&gt;%\n      formatRound(columns = 'Value', digits = 2)\n  })\n  \n  # Data download\n  output$downloadData &lt;- downloadHandler(\n    filename = function() {\n      paste0(\"chemical-space-\", input$facet, \"-\", Sys.Date(), \".csv\")\n    },\n    content = function(file) {\n      write.csv(df %&gt;% filter(source == input$facet), file, row.names = FALSE)\n    }\n  )\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "index.html#chemical-space-evolution-analysis",
    "href": "index.html#chemical-space-evolution-analysis",
    "title": "Chemical Space Analysis",
    "section": "",
    "text": "#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 800\nlibrary(shinylive)\n# library(shiny)\nlibrary(bslib)\n# library(tidyverse)\nlibrary(dplyr)\nlibrary(plotly)\nlibrary(countrycode)\nlibrary(DT)\n\n# Install the 'pak' package manager if you haven't already\n# install.packages(\"pak\")\n# Install 'r-shinylive' using 'pak'\n# pak::pak(\"posit-dev/r-shinylive\")\n\n######### Data Preparation #########\ndf &lt;- read.csv(\"df.csv\")\n\n######### Custom Labels #########\nfigure_labels &lt;- list(\n  \"Figure1a\" = list(y_title = \"Contribution Index\", map_title = \"Chemical Space Contribution\"), \n  \"Figure1b\" = list(y_title = \"Collaboration Index\", map_title = \"International Collaborations\"),\n  \"Figure1c\" = list(y_title = \"Collaboration Percentage\", map_title = \"China-US Collaboration\"),\n  \"Figure1d\" = list(y_title = \"GDP Growth Rate (%)\", map_title = \"Economic Indicators\"),\n  \"Figure1e\" = list(y_title = \"Researchers (Count)\", map_title = \"R&D Workforce\")\n)\n\n######### APP #########\nui &lt;- fluidPage(\n  theme = bs_theme(bootswatch = \"flatly\", primary = \"#2c3e50\", secondary = \"#18bc9c\"),\n  \n  # Navbar at the top\n  div(\n    class = \"navbar navbar-static-top primary bg-primary\",\n    div(\"China's rise in the chemical space and the decline of US influence\", \n        class = \"container-fluid\")\n  ),\n  \n  br(),\n  \n  layout_columns(\n    col_widths = c(3, 9),\n    \n    # Control Panel\n    card(\n      card_header(\"Controls\", class = \"bg-primary text-light\"),\n      card_body(\n        selectInput(\"facet\", \"Select figure:\",\n                    choices = unique(df$source),\n                    selected = \"Figure1a\",\n                    width = \"100%\"),\n        \n        div(class = \"form-group\",\n            h5(\"Select Countries:\"),\n            uiOutput(\"country_checkboxes\")\n        ),\n        \n        div(class = \"animation-controls\",\n            sliderInput(\"year\", \"Year\",\n                        min = min(df$Year) ,\n                        max = max(df$Year) - 1,\n                        value = min(df$Year),\n                        step = 1,\n                        animate = animationOptions(interval = 800, loop = FALSE),\n                        width = \"100%\")\n        ),\n        \n        uiOutput(\"figure_description\")\n      )\n    ),\n    \n    # Visualization Panel\n    layout_column_wrap(\n      width = 1/1,\n      card(\n        full_screen = TRUE,\n        card_header(\"Interactive Visualizations\", class = \"bg-primary text-light\"),\n        card_body(\n          plotlyOutput(\"emissionsPlot\", height = \"50vh\"),\n          br(),\n          plotlyOutput(\"worldMap\", height = \"40vh\")\n        )\n      )\n    )\n  ),\n  \n  # Data Section\n  card(\n    card_header(\"Data Explorer\", class = \"bg-primary text-light\"),\n    card_body(\n      DTOutput(\"table\")\n    )\n  ),\n  \n  downloadButton(\"downloadData\", \"Download Dataset\", class = \"btn-success\"),\n  \n  # Footer\n  div(\n    class = \"footer navbar navbar-static-bottom bg-light\",\n    style = \"margin-bottom: 20px;\",\n    div(\n      class = \"container-fluid\",\n      \"Data source: Bermudez-Montana, Garcia-Chung, et al, 2025 - \",\n      a(\"ChemRxiv Publication\", href = \"https://doi.org/10.26434/chemrxiv-2025-d2zc8\",\n        style = \"color: #18bc9c;\")\n    )\n  )\n)\n\nserver &lt;- function(input, output, session) {\n  \n  # Reactive axis labels\n  axis_labels &lt;- reactive({\n    req(input$facet)\n    figure_labels[[input$facet]] %||% list(y_title = \"Value\", map_title = \"Value\")\n  })\n  \n  # Country selection checkboxes\n  output$country_checkboxes &lt;- renderUI({\n    req(input$facet)\n    countries &lt;- df %&gt;% \n      filter(source == input$facet) %&gt;% \n      pull(Country) %&gt;% \n      unique() %&gt;% \n      sort()\n    \n    fluidRow(\n      column(6,\n             checkboxGroupInput(\"countries\", NULL, \n                               choices = head(countries, ceiling(length(countries)/2)),\n                               selected = head(countries, 4))\n      ),\n      column(6,\n             checkboxGroupInput(\"countries2\", NULL,\n                               choices = tail(countries, floor(length(countries)/2)),\n                               selected = tail(countries, 4))\n      )\n    )\n  })\n  \n  # Combine checkbox inputs\n  selected_countries &lt;- reactive({\n    unique(c(input$countries, input$countries2))\n  })\n  \n  # Update figure description\n  output$figure_description &lt;- renderUI({\n    req(input$facet)\n    desc_text &lt;- case_when(\n      input$facet == \"Figure1a\" ~ \"Country participation in chemical space growth using formula:\",\n      input$facet == \"Figure1b\" ~ \"Top international collaborations in chemical research:\",\n      input$facet == \"Figure1c\" ~ \"China-US collaborative contributions to new substances:\",\n      input$facet == \"Figure1d\" ~ \"Economic indicators and major events timeline:\",\n      input$facet == \"Figure1e\" ~ \"Research workforce development metrics:\",\n      TRUE ~ paste(\"Displaying:\", input$facet)\n    )\n    \n    div(class = \"callout\",\n        h5(desc_text),\n        if(input$facet == \"Figure1a\") withMathJax(helpText(\"$$C_{i,t} = \\\\frac{1}{n_t} \\\\sum_s \\\\frac{n_{i,s,t}}{n_{a,s,t}}$$\"))\n    )\n  })\n  \n  # Main emissions plot\n  output$emissionsPlot &lt;- renderPlotly({\n    req(selected_countries(), input$facet, input$year)\n    \n    filtered_data &lt;- df %&gt;% \n      filter(Country %in% selected_countries(),\n             source == input$facet,\n             Year &lt;= input$year) %&gt;% \n      arrange(Year)\n    \n    if (nrow(filtered_data) == 0) return(plotly_empty())\n    \n    fig &lt;- plot_ly(filtered_data, x = ~Year, y = ~Value, color = ~Country,\n            type = 'scatter', mode = 'lines+markers', line = list(simplify = FALSE, width = 2), showlegend = TRUE,\n            hoverinfo = 'text', text = ~paste0(\"&lt;b&gt;\", Country, \"&lt;/b&gt;&lt;br&gt;\",\n                                              axis_labels()$y_title, \": \", round(Value, 2),\n                                              \"&lt;br&gt;Year: \", Year))\n      # add_text(text = ~Country, showlegend = FALSE, textposition = \"top right\") \n\n    # Add annotations for the latest year\n    final_data &lt;- filtered_data %&gt;% \n      group_by(Country) %&gt;% \n      filter(Year == max(Year)) %&gt;% \n      ungroup()\n    \n    for(i in 1:nrow(final_data)) {\n      fig &lt;- fig %&gt;% add_annotations(\n        x = final_data$Year[i],\n        y = final_data$Value[i],\n        text = final_data$Country[i],\n        xref = \"x\",\n        yref = \"y\",\n        xanchor = 'left',\n        yanchor = 'middle',\n        showarrow = FALSE,\n        font = list(size = 12),\n        xshift = 10\n      )\n    }\n\n    fig &lt;- fig %&gt;%\n      layout(\n        title = paste(\"Temporal Analysis -\", input$facet),\n        xaxis = list(title = \"Year\", gridcolor = \"#ecf0f1\"),\n        yaxis = list(title = axis_labels()$y_title, gridcolor = \"#ecf0f1\"),\n        hovermode = \"x unified\",\n        plot_bgcolor = \"#ffffff\",\n        legend = list(orientation = 'h', y = -0.2),\n        margin = list(r = 40)\n      )\n\n    if (input$facet == \"Figure1d\") {\n      fig %&gt;%\n    # layout(\n    #   shapes = list(\n    #     list(\n    #       type = \"line\",\n    #       x0 = 2020,\n    #       x1 = 2020,\n    #       y0 = 0,\n    #       y1 = 13,\n    #       line = list(color = \"blue\", width = 2, dash = \"dot\")\n    #     )\n    #   )\n    #   ) %&gt;%\n    add_text(showlegend = FALSE, x = 2020, y = 10,\n            text = \"COVID-19\") %&gt;%\n    # layout(\n    #   shapes = list(\n    #     list(\n    #       type = \"line\",\n    #       x0 = 2007,\n    #       x1 = 2007,\n    #       y0 = 0,\n    #       y1 = 10,\n    #       line = list(color = \"green\", width = 2, dash = \"dot\")\n    #     )\n    #   )\n    #   ) %&gt;%\n    add_text(showlegend = FALSE, x = 2007, y = 15,\n            text = \"Global Financial Crisis\")\n    }\n    else {\n       fig\n    }\n  })\n  \n  # World map visualization\n  output$worldMap &lt;- renderPlotly({\n    req(input$facet, input$year)\n    \n    map_data &lt;- df %&gt;%\n      filter(source == input$facet, Year == input$year) %&gt;%\n      mutate(iso_code = countrycode(Country, \"country.name\", \"iso3c\")) \n      # drop_na()\n    \n    if (nrow(map_data) == 0) return(plotly_empty())\n    \n    plot_geo(map_data) %&gt;%\n      add_trace(\n        z = ~Value,\n        color = ~Value,\n        colors = \"Blues\",\n        locations = ~iso_code,\n        text = ~paste0(\"&lt;b&gt;\", Country, \"&lt;/b&gt;&lt;br&gt;\",\n                      axis_labels()$map_title, \": \", round(Value, 2)),\n        hoverinfo = \"text\",\n        marker = list(line = list(color = \"white\", width = 0.5))\n      ) %&gt;%\n      colorbar(title = axis_labels()$map_title) %&gt;%\n      layout(\n        title = paste(\"Global Distribution -\", input$facet, \"(\", input$year, \")\"),\n        geo = list(\n          showframe = FALSE,\n          showcoastlines = TRUE,\n          projection = list(type = \"natural earth\"),\n          bgcolor = \"rgba(0,0,0,0)\",\n          landcolor = \"#f8f9fa\"\n        )\n      )\n  })\n  \n  # Data table\n  output$table &lt;- renderDT({\n    req(input$facet)\n    df %&gt;%\n      filter(source == input$facet) %&gt;%\n      datatable(\n        rownames = FALSE,\n        extensions = 'Buttons',\n        options = list(\n          dom = 'Bfrtip',\n          buttons = c('copy', 'csv', 'excel'),\n          pageLength = 10,\n          scrollX = TRUE\n        )\n      ) %&gt;%\n      formatRound(columns = 'Value', digits = 2)\n  })\n  \n  # Data download\n  output$downloadData &lt;- downloadHandler(\n    filename = function() {\n      paste0(\"chemical-space-\", input$facet, \"-\", Sys.Date(), \".csv\")\n    },\n    content = function(file) {\n      write.csv(df %&gt;% filter(source == input$facet), file, row.names = FALSE)\n    }\n  )\n}\n\nshinyApp(ui, server)"
  },
  {
    "objectID": "index.html#chemical-space-analysis",
    "href": "index.html#chemical-space-analysis",
    "title": "Chemical Space Analysis",
    "section": "Chemical Space Analysis",
    "text": "Chemical Space Analysis\n\\[\nC_{i,t} = \\frac{1}{n_t} \\sum_s \\frac{n_{i,s,t}}{n_{a,s,t}}\n\\]\nDescription of Elements:\n\n\\(Ci,tCi,t\\)​: Contribution of country ii to the chemical space (CS) expansion in year tt.\n\\(ntnt\\)​: Total number of new reported chemicals in year tt.\n\\(ss\\): Index representing a specific chemical substance.\n\\(ni,s,tni,s,t\\)​: Number of authors from country ii who published substance ss for the first time in year tt.\n\\(na,s,tna,s,t\\)​: Total number of authors participating in the publication of substance ss in year tt.\n\n\n\n\n\n\n\nNote\n\n\n\nThis formula calculates the weighted contribution of a country to the discovery of new chemical substances. The contribution is proportional to the number of authors from a specific country relative to the total number of authors involved in reporting each substance. Finally, this contribution is normalized by the total number of new substances for that year."
  },
  {
    "objectID": "R-shinylive-demo.html",
    "href": "R-shinylive-demo.html",
    "title": "Joe Cheng’s r-shinylive App in a Quarto document!",
    "section": "",
    "text": "This document contains just the Shiny App source code used in Joe Cheng’s posit::conf(2023) demo (Warning: Large file size, don’t open on mobile!)\nFor a detailed breakdown, please see the index.qmd file.\n#| '!! shinylive warning !!': |\n#|   shinylive does not work in self-contained HTML documents.\n#|   Please set `embed-resources: false` in your metadata.\n#| standalone: true\n#| viewerHeight: 600\nlibrary(shiny)\nlibrary(bslib)\n\n# Define UI for app that draws a histogram ----\nui &lt;- page_sidebar(\n  sidebar = sidebar(open = \"open\",\n    numericInput(\"n\", \"Sample count\", 100),\n    checkboxInput(\"pause\", \"Pause\", FALSE),\n  ),\n  plotOutput(\"plot\", width=1100)\n)\n\nserver &lt;- function(input, output, session) {\n  data &lt;- reactive({\n    input$resample\n    if (!isTRUE(input$pause)) {\n      invalidateLater(1000)\n    }\n    rnorm(input$n)\n  })\n  \n  output$plot &lt;- renderPlot({\n    hist(data(),\n      breaks = 40,\n      xlim = c(-2, 2),\n      ylim = c(0, 1),\n      lty = \"blank\",\n      xlab = \"value\",\n      freq = FALSE,\n      main = \"\"\n    )\n    \n    x &lt;- seq(from = -2, to = 2, length.out = 500)\n    y &lt;- dnorm(x)\n    lines(x, y, lwd=1.5)\n    \n    lwd &lt;- 5\n    abline(v=0, col=\"red\", lwd=lwd, lty=2)\n    abline(v=mean(data()), col=\"blue\", lwd=lwd, lty=1)\n\n    legend(legend = c(\"Normal\", \"Mean\", \"Sample mean\"),\n      col = c(\"black\", \"red\", \"blue\"),\n      lty = c(1, 2, 1),\n      lwd = c(1, lwd, lwd),\n      x = 1,\n      y = 0.9\n    )\n  }, res=140)\n}\n\n# Create Shiny app ----\nshinyApp(ui = ui, server = server)\nDocument Source (minus links):\n---\ntitle: \"Joe Cheng's r-shinylive App in a Quarto document!\"\nformat:\n  html:\n    resources: \n      - shinylive-sw.js\nfilters:\n  - shinylive\n---\n\n```{shinylive-r}\n#| standalone: true\n#| viewerHeight: 600\nlibrary(shiny)\nlibrary(bslib)\n\n# Define UI for app that draws a histogram ----\nui &lt;- page_sidebar(\n  sidebar = sidebar(open = \"open\",\n    numericInput(\"n\", \"Sample count\", 100),\n    checkboxInput(\"pause\", \"Pause\", FALSE),\n  ),\n  plotOutput(\"plot\", width=1100)\n)\n\nserver &lt;- function(input, output, session) {\n  data &lt;- reactive({\n    input$resample\n    if (!isTRUE(input$pause)) {\n      invalidateLater(1000)\n    }\n    rnorm(input$n)\n  })\n  \n  output$plot &lt;- renderPlot({\n    hist(data(),\n      breaks = 40,\n      xlim = c(-2, 2),\n      ylim = c(0, 1),\n      lty = \"blank\",\n      xlab = \"value\",\n      freq = FALSE,\n      main = \"\"\n    )\n    \n    x &lt;- seq(from = -2, to = 2, length.out = 500)\n    y &lt;- dnorm(x)\n    lines(x, y, lwd=1.5)\n    \n    lwd &lt;- 5\n    abline(v=0, col=\"red\", lwd=lwd, lty=2)\n    abline(v=mean(data()), col=\"blue\", lwd=lwd, lty=1)\n\n    legend(legend = c(\"Normal\", \"Mean\", \"Sample mean\"),\n      col = c(\"black\", \"red\", \"blue\"),\n      lty = c(1, 2, 1),\n      lwd = c(1, lwd, lwd),\n      x = 1,\n      y = 0.9\n    )\n  }, res=140)\n}\n\n# Create Shiny app ----\nshinyApp(ui = ui, server = server)\n```"
  }
]